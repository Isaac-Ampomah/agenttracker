<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous"></script>
</head>

<body>

    <a href="#" id="get_location" onclick="click();">Get Location</a>
    <div id="map">
        <iframe id="google_map" width="425" height="350" frameborder="2" scrolling="no" src="https://maps.google.co.uk?output=embed"></iframe>
    </div>
    <script>

        // $(document).ready(function(){


        //         $(".pre").click(function(){
        //             this.css('background-color',yellow);
        //         })

        //         // if(navigator.geolocation){
        //         //     var opt={
        //         //         enablehighAccuracy:true,
        //         //         timeout:Infinity,
        //         //         maximumAge:0
        //         //     }
        //         //    var Loc= navigator.geolocation.watchPosition(success,fail,opt);
        //         // }

        // });

        //how to get a users loation
        //  var c = function (pos) {
        //      console.log(pos);
        //      var lat = pos.coords.latitude
        //      long = pos.coords.longitude,
        //          coords = lat + ',' + long;

        //     var _src = 'https://maps.google.co.uk?q=' + coords + '&z=40&output=embed';

        //      document.getElementById('google_map').setAttribute('src', _src);

        //  }

        //  document.getElementById('get_location').onclick = function () {
        //     // setInterval(navigator.geolocation.getCurrentPosition(c),1000);

        //      return false;
        //  }


        function locationReceived(postion) {

            console.log(postion);
            var lati = postion.coords.latitude;
            var longi = postion.coords.longitude;
            var coords = lati + ',' + longi;
            var _src = 'https://maps.google.co.uk?q=' + coords + '&z=40&output=embed';
            document.getElementById('google_map').setAttribute('src', _src);
        }
        function locationNotReceived(postionError) {

            console.log(postionError);
        }
        function click() {

            if (navigator.geolocation) {

                var opt = {

                    enablehighAccuracy: true,
                    timeout: Infinity,
                    maximumAge: 0
                }
                var id = navigator.geolocation.watchPosition(locationReceived, locationNotReceived, opt);

            }
        }

        // $(document).ready(function () {
        //     if (navigator.geolocation) {
        //         var MapOtn = {
        //             enablehighAccuracy: true,
        //             timeout: Infinity,
        //             maximumAge: 0
        //         };
        //         var watchID = navigator.geolocation.watchPosition(success, fail, optn);
        //     }

        // });
        // function success() {
        //     debugger;
        //     var longlat = new google.maps.latlng(Position.coords.latitude,
        //         Position.coords.latitude);
        //     var optn = {
        //         zoom: 10,
        //         center: googlelatlong,
        //         mapTyprId: google.maps.MapTyprId.Road
        //     }
        // }

    </script>
</body>

</html>
<!-- coords(coordinates) inturn has 7 properties:
3 are supported by most browsers:
latitude
longitude
accuracy

..other 4 are not widely supported:
altitude
altitudeAccuracy
heading
speed -->